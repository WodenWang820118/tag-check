<div class="main-page pt-0 pb-12 px-[10rem]">
  <div class="main-page__title text-left my-8">
    <mat-tab-group
      mat-stretch-tabs="false"
      mat-align-tabs="start"
      [(selectedIndex)]="selectedIndex"
    >
      <mat-tab label="Tag Build"> </mat-tab>
      <mat-tab label="Tag Extract"> </mat-tab>
    </mat-tab-group>
  </div>

  <div
    class="main-page__board flex flex-row flex-wrap justify-center items-stretch gap-16 mb-12"
  >
    <div
      class="main-page__board__item main-page__editor grow border border-gray-300 dark:border-gray-700"
    >
      <!-- If using Tag Extract (selectedIndex === TagBuildMode.TagExtract) input should be blank -->
      @if (selectedIndex === TagBuildMode.TagBuild) {
        @if (specs().length > 0) {
          <lib-editor
            [content]="specs() | json"
            [editorExtension]="inputExtension"
          >
          </lib-editor>
        } @else {
          <lib-editor
            [content]="[] | json"
            [editorExtension]="inputExtension"
          ></lib-editor>
        }
      } @else {
        <lib-editor
          [content]="[] | json"
          [editorExtension]="inputExtension"
        ></lib-editor>
      }
    </div>
    <div class="main-page__board__item grow">
      <lib-functional-card>
        <lib-upload-action
          class="functional-card__actions__item"
          (uploadClick)="onUpload()"
        ></lib-upload-action>
      </lib-functional-card>
    </div>
    <div
      class="main-page__board__item main-page__editor grow border border-gray-300 dark:border-gray-700"
    >
      <lib-editor [editorExtension]="outputExtension"></lib-editor>
    </div>
  </div>
</div>
