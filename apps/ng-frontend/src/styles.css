/* Step 1: Define layers and import theme/utilities with prefix, omitting preflight. */
@layer theme, base, components, utilities;
@import "tailwindcss/theme.css" layer(theme);
@import "tailwindcss/utilities.css" layer(utilities);

/* Step 2: Define a minimal, non-conflicting custom Preflight. */
@layer base {
  *,
  ::before,
  ::after {
    box-sizing: border-box; /* Ensures padding and border are included in the element's total width and height */
    border-width: 0;
    border-style: solid;
    border-color: currentColor; /* Or use a theme variable like `theme(borderColor.DEFAULT)` if defined */
  }

  html {
    line-height: 1.5; /* A sensible default for readability */
    -webkit-text-size-adjust: 100%; /* Prevents font scaling in landscape on iOS */
    -moz-tab-size: 4;
    tab-size: 4;
    -webkit-tap-highlight-color: transparent; /* Removes tap highlight on mobile */
  }

  /* Ensures media elements are responsive by default */
  img,
  video,
  canvas,
  svg {
    display: block;
    max-width: 100%;
    height: auto;
  }
}

/*
 * =============================================================================
 * STEP 3: NX MONOREPO CONTENT SCANNING
 * =============================================================================
 * Add a @source directive for each library that 'ng-frontend' depends on.
 * This ensures Tailwind's JIT compiler scans these files for utility classes.
 * Failure to do so will result in missing styles from shared components.
 */

@source "../../libs/shared-styles/src/**/*.{html,ts,css,scss}";
@source "../../libs/utils/src/**/*.{html,ts,css,scss}";